<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta http-equiv="Content-Style-Type" content="text/css" />
        <meta name="generator" content="pandoc" />
                        <title> PHYS250 Capacitors Lab Writeup </title>
        <style type="text/css">code{white-space: pre;}</style>
                                        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <style>
html {
    min-height: 100%;
    min-width: 100%;
    font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; 
    font-weight: 300;
    background-color: #fafafa;
}

    #center-viewport {
        margin: 0 auto;
        padding-left: 20px;
        padding-right: 20px;
        max-width: 1200px;
        padding-bottom: 20px;
    }

    img {
        max-height: 40vh;
        width: auto;
        max-width: 100%;
    }

    a {
        font-size: 8px; color: darkgreen
    }

    h1, h2, h3 {
        margin: 0;
    }

    p {
        margin: 0;
        margin-bottom: 10px;
        margin-top: 5px;
    }

    h1 {
        margin-top: 20px;
        display: inline-block;
        /* border-bottom: 2px rgba(191, 60, 60, 0.4) solid; */
    }

    h2 {
        margin-top: 10px;
    }

    h3 {
        margin-top: 20px;
    }

    body {
        margin: 0;
    }

        </style>
    </head>
    <body>
        <div style="position: sticky; position: -webkit-sticky; top: 0; height: 30px; width: 100%; background-color: #BF3C3C; margin-bottom: 20px;z-index: 10000; color: white;   display: flex; flex-direction: column; justify-content: center;">
            <div><span style='cursor: pointer; font-family: "Courier New", Courier, monospace; font-weight: 700; margin-left: 20px' onclick="window.location.href='https://taproot.shabang.cf/'">Taproot</span><span style='cursor: default; font-family: "Courier New", Courier, monospace; font-weight: 300 !important; margin-right: 20px; float:right'> <strong>PHYS250</strong> Capacitors Lab Writeup </span></div>
        </div>
        <div id="center-viewport">
            <p><strong>Source</strong>: <span><a href="http://taproot.shabang.cf/relay?request=KBe20phys250retCapacitorsLab"><span><strong>[[</strong></span><strong>KBe20phys250retCapacitorsLab</strong><span><strong>]]</strong></span></a></span></p>
            <p>#ret</p>
            <h1 id="purpose">Purpose</h1>
            <p>To verify the relation between capacitance, resistance, voltage, and charge time of a simple capacitor circuit. The equation that will be verified is <span class="math display">\[V_{cap} = V_{bat}\left(1-e^{-\frac{t}{\tau}}\right)\]</span> where each variable has the following meaning:</p>
            <table>
            <thead>
            <tr class="header">
            <th style="text-align: left;">Variable</th>
            <th style="text-align: left;">Units</th>
            <th style="text-align: left;">Description</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td style="text-align: left;"><span class="math inline">\(t\)</span></td>
            <td style="text-align: left;">Seconds (s)</td>
            <td style="text-align: left;">Time elapsed since charging of the capacitor started. May be represented as <span class="math inline">\(t-t_0\)</span>, where <span class="math inline">\(t\)</span> is the current absolute time and <span class="math inline">\(t_0\)</span> is the absolute start time.</td>
            </tr>
            <tr class="even">
            <td style="text-align: left;"><span class="math inline">\(V_{cap}\)</span></td>
            <td style="text-align: left;">Volts (V)</td>
            <td style="text-align: left;">Voltage across the capacitor after a given elapsed time</td>
            </tr>
            <tr class="odd">
            <td style="text-align: left;"><span class="math inline">\(V_{bat}\)</span></td>
            <td style="text-align: left;">Volts (V)</td>
            <td style="text-align: left;">Voltage of the battery, assumed to be constant.</td>
            </tr>
            <tr class="even">
            <td style="text-align: left;"><span class="math inline">\(\tau\)</span></td>
            <td style="text-align: left;">Seconds (s)</td>
            <td style="text-align: left;">“Time constant” that scales the equation to the circuit. Equal to the product of the resistance and capacitance of the circuit (<span class="math inline">\(RC\)</span>), and roughly equal to the number of seconds required to charge the capacitor to <span class="math inline">\(\frac{2}{3}\)</span> of <span class="math inline">\(V_{bat}\)</span>.</td>
            </tr>
            </tbody>
            </table>
            <blockquote>
            <p>Table 1: The meanings of variables in the numerical model</p>
            </blockquote>
            <h1 id="voltage-over-time">Voltage over Time</h1>
            <h2 id="equipment">Equipment</h2>
            <ul>
            <li><p>Logger Pro probes</p></li>
            <li><p>Logger Pro</p></li>
            <li><p>Breadboard</p></li>
            <li><p>Capacitors (22<span class="math inline">\(\mu\)</span>F-1000<span class="math inline">\(\mu\)</span>F)</p></li>
            <li><p>Resistors (15<span class="math inline">\(\omega\)</span>-100k<span class="math inline">\(\omega\)</span>)</p></li>
            <li><p>3 volt battery pack</p></li>
            </ul>
            <h2 id="procedure">Procedure</h2>
            <p>A number of circuits were built, with the same structure but differing resistances and capacitances. The voltage across the capacitor and the current through the circuit were measured over time using a voltage and amperage probe with Logger Pro.</p>
            <p><img src="./KBe20phys250srcCapacitorLabCircuitSchematic.png" alt="image" /></p>
            <p>Section 3 uses a different approach to analyze this data, and Section 4 discusses the time constant as measured using a multimeter and stopwatch, all on the same basic circuit. The raw data can be found <a href="https://nuevaschool.instructure.com/courses/2851/assignments/52558">on Canvas</a>. Desmos was used to manually fit curves to the data, using a modified version of the model with <span class="math inline">\(t\)</span> and <span class="math inline">\(t_0\)</span> variables to truncate scrap data: <span class="math display">\[V_{cap} = V_{bat}\left(1-e^{-\frac{t - t_0}{\tau}}\right)\]</span> The scattered points near the x-axis are residuals between the curve fit and the collected data. The fit heuristic was to visually center the dots around the x-axis.</p>
            <h2 id="results">Results</h2>
            <p>The results of the fits are summarized below:</p>
            <p><img src="./KBesrcCapacitor22microF100kO.png" alt="image" /></p>
            <p><img src="./KBesrcCapacitorPoint047microF33ohm.png" alt="image" /></p>
            <p><img src="./KBesrcCapacitor1000microF100ohm.png" alt="image" /></p>
            <p><img src="./KBesrcCapacitor1000microF15ohm.png" alt="image" /></p>
            <table>
            <thead>
            <tr class="header">
            <th style="text-align: right;"><span class="math inline">\(\Omega\)</span></th>
            <th style="text-align: right;">F</th>
            <th style="text-align: right;">Fit <span class="math inline">\(\tau\)</span> (s)</th>
            <th style="text-align: right;">Modeled <span class="math inline">\(\tau\)</span> (s)</th>
            <th style="text-align: right;">% Error</th>
            </tr>
            </thead>
            <tbody>
            <tr class="odd">
            <td style="text-align: right;">100k<span class="math inline">\(\Omega\)</span></td>
            <td style="text-align: right;">22<span class="math inline">\(\mu\)</span>F</td>
            <td style="text-align: right;">2.3860 <span class="math inline">\(\pm\)</span> 0.01</td>
            <td style="text-align: right;">2.2000 <span class="math inline">\(\pm\)</span> 0.441</td>
            <td style="text-align: right;">8.45%</td>
            </tr>
            <tr class="even">
            <td style="text-align: right;">33k<span class="math inline">\(\Omega\)</span></td>
            <td style="text-align: right;">0.047<span class="math inline">\(\mu\)</span>F</td>
            <td style="text-align: right;">0.0017 <span class="math inline">\(\pm\)</span> 0.0001</td>
            <td style="text-align: right;">0.0016 <span class="math inline">\(\pm\)</span> 0.0003</td>
            <td style="text-align: right;">12.83%</td>
            </tr>
            <tr class="odd">
            <td style="text-align: right;">100<span class="math inline">\(\Omega\)</span></td>
            <td style="text-align: right;">1000<span class="math inline">\(\mu\)</span>F</td>
            <td style="text-align: right;">0.1058 <span class="math inline">\(\pm\)</span> 0.001</td>
            <td style="text-align: right;">0.1000 <span class="math inline">\(\pm\)</span> 0.020</td>
            <td style="text-align: right;">4.40%</td>
            </tr>
            <tr class="even">
            <td style="text-align: right;">15 <span class="math inline">\(\Omega\)</span></td>
            <td style="text-align: right;">1000<span class="math inline">\(\mu\)</span>F</td>
            <td style="text-align: right;">0.0188 <span class="math inline">\(\pm\)</span> 0.0001</td>
            <td style="text-align: right;">0.0150 <span class="math inline">\(\pm\)</span> 0.003</td>
            <td style="text-align: right;">24.67%</td>
            </tr>
            </tbody>
            </table>
            <blockquote>
            <p>Table 2: Fit and calculated values of <span class="math inline">\(\tau\)</span>.</p>
            </blockquote>
            <h2 id="analysis">Analysis</h2>
            <p>The curve fits included a parameter for <span class="math inline">\(\tau\)</span>, and the model predicts <span class="math inline">\(\tau = RC\)</span>. Thus, the values and uncertainties for resistance and capacitance of each circuit were multiplied and compared to the visual best fit <span class="math inline">\(\tau\)</span> in the table above.</p>
            <p>Because each fit was done manually, the absolute error was difficult to estimate because there was no correct answer. Instead, error was taken as the precision at which the number was considered “close enough” by the human doing the curve fit. Depending on the size of the value (and scale of the Desmos slider), this results in an absolute error ranging from 0.1 units to 0.001 units.</p>
            <p>These uncertainties were propagated through calculations as follows: <span class="math display">\[\begin{aligned}
            \delta (A+B) = \sqrt{\delta A^2 + \delta B^2}\\
            \frac{\delta (AB)}{AB} = \sqrt{\left(\frac{\delta A}{A}\right)^2 + \left(\frac{\delta B}{B}\right)^2}
            \end{aligned}\]</span> for additive and multiplicative one operations respectively.</p>
            <p>The manufacturing tolerances of electronic components were taken into account as well. Resistor tolerances were based on the absolute difference between standard resistances and those measured by a multimeter. Capacitance tolerances were based on the tolerances of a similar capacitor for which the <a href="http://www.paullinebarger.net/DS/Foai/Foai%20%5Bradial%20thru-hole%5D%20CD110%20Series.pdf">data sheet</a> was available: the FOAI CD110 radial capacitor, which had capacitance tolerances of <span class="math inline">\(\pm\)</span> 20%.</p>
            <h2 id="conclusion">Conclusion</h2>
            <p>Assuming perfect capacitor manufacturing, the curve fit results fell within uncertainties of the model predicted <span class="math inline">\(\tau\)</span> value for all circuits except the fit in Figure 1. This is likely due to the high uncertainties placed on smaller scale curve fits, especially the final trial. Furthermore, with the unexpectedly large 20% uncertainties in capacitance all trials fell within the uncertainties of the experiment. Thus, the model predicted the charging behavior of capacitors over time accurately. For future iterations, numerical errors could have been better predicted if the specifications of the exact parts used to build the circuit were available. Additionally, more systematic curve fit heuristics could have been used such as RSME. The exact numerical analysis for this section can be found <strong><a href="https://docs.google.com/spreadsheets/d/1Hw9ooz0CtAvTP9vtw1VT9pVyfsW39IojwwrQX94VJQY/edit?usp=sharing">here</a></strong>.</p>
            <h1 id="integration-of-current">Integration of Current</h1>
            <h2 id="procedure-1">Procedure</h2>
            <p>Another way to evaluate the model is to compare the amount of transferred charge. For this comparison, a modified equation is used:</p>
            <p><span class="math display">\[Q_{cap}=Q_{max}\left(1-e^{-\frac{t-t_{0}}{\tau}}\right)\]</span></p>
            <p>This is similar to the model used in the previous procedure, but voltage variables are replaced with charge. Current flow through the circuit is used as a proxy to calculate the amount of charge accumulated in the capacitor. As before, current is measured across a resistor using a digital probe and Logger Pro.</p>
            <p>The amount of charge on the capacitor was calculated by taking a Riemann sum of the momentary current measurements. In addition, the voltage measurements across the capacitor were used as another proxy to calculate the amount of charge on the capacitor.</p>
            <h2 id="results-1">Results</h2>
            <p>The values of the three theoretically identical methods of calculating capacitor charge are shown below:</p>
            <p><img src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRfxrZPfJZareibOZN-KammmgQDBDb5PVMBNmzCvUb_0tSn_TUNsLFQPM8ehfIKGEOaIhL86IoPFdb0/pubchart?oid=483417085&amp;format=image" alt="image" /></p>
            <p>In addition, the final accumulated charge calculated by the Riemann sum was 0.00319C, or the equivalent of 3.19V on the capacitor.</p>
            <h2 id="analysis-1">Analysis</h2>
            <p>As the graph shows, both proxies of charge on the capacitor generally agree with the model but come up with smaller values of charge. Notably, the two experimental proxies don’t agree with each other either, suggesting some systematic error is at play.</p>
            <p>One culprit may be misaligned data: if the Riemann sum calculation began after charging, then the entire sum would be skewed low. However, the sum plot is not a vertical translation of the theoretical value, which suggests the effect of this issue is minimal or canceled. Another issue may be miscalibrated sensors: if each amperage measurement was off by <span class="math inline">\(10^{-5}\)</span>A, the cumulative affect would drag down the total as time went on. The effect of this drift can be counteracted by taking the average of readings when no charge should be flowing, multiplying by the number of data points, and subtracting the total from the final charge value. However, the calculated drift was an order of magnitude greater than the total accumulated charge, so the author did not numerically sanitize against this drift.</p>
            <p>Although the intermediate charge values do not match the model, the final accumulated charge is sensical: 3.19 volts is close to the expected 3.2 volts. The same errors mentioned previously contribute to this difference, but the accuracy of the result suggests that the effect was canceled.</p>
            <p>The Farad Definition line (red) in Figure 6 has blips for unkown reasons. When the battery was off, the probe measured voltages on the order of <span class="math inline">\(10^{-9}\)</span> for a few ticks before measuring a faulty value, so a similar stepping phenomenon may be occuring in the voltage meauserement.</p>
            <h2 id="conclusion-1">Conclusion</h2>
            <p>The Riemann sums of measured current align with the model and expected charge calculated by the voltage on the capacitor and the definition of the Farad. Thus, the model accurately predicts experimental behavior, suggesting that it is correct. Although the graphs differed slightly, these may be attributed to the subjective curve fit metric, sensor inaccuracies while measuring small flows of current, or sensor calibration inaccuracies. Future analysis could be more accurate by calculating the false zero point of the sensor, using various tick times to find the most effective range for that sensor, and having more accurate values for uncertainty for circuit components and the digital probe.</p>
            <p>Source analysis <a href="https://docs.google.com/spreadsheets/d/1eDmGRePGh8PVv2aKhVhv-TNJc3_n8H7HUrAMvxOG1Vs/edit?usp=sharing"><strong>here</strong></a>.</p>
            <h1 id="time-constant-with-various-components">Time Constant with Various Components</h1>
            <h2 id="equipment-1">Equipment</h2>
            <ul>
            <li><p>Breadboard</p></li>
            <li><p>Capacitors (100<span class="math inline">\(\mu\)</span>F-1000<span class="math inline">\(\mu\)</span>F)</p></li>
            <li><p>Resistors (99.8k<span class="math inline">\(\Omega\)</span>-1M<span class="math inline">\(\Omega\)</span>)</p></li>
            <li><p>3 volt battery pack</p></li>
            <li><p>Multimeter</p></li>
            <li><p>Stopwatch</p></li>
            </ul>
            <h2 id="procedure-2">Procedure</h2>
            <p>Most of the analysis for data collected as a class was done on the “charge rate constant” (<code>time/RC</code>) of each circuit, defined as:</p>
            <p><span class="math display">\[\frac{t}{RC}\]</span></p>
            <p>The same circuit as above was built by various experimentalists, with multimeter probes on the two sides legs of the capacitor:</p>
            <p><img src="./KBe20phys250srcCapacitorLabCircuitSchematic.png" alt="image" /></p>
            <p>The physical manifestation of which looked like:</p>
            <p><img src="./KBe20phys250srcCapacitorLabCircuit.png" alt="image" /></p>
            <p>Starting with discharged capacitors, a battery was connected to the circuit and used to charge the capacitor. The time taken for the voltage across the capacitor to reach 2 <span class="math inline">\(\pm\)</span> 0.01 volts was measured for various resistor and capacitor combinations.</p>
            <h2 id="results-2">Results</h2>
            <p><code>time/RC</code> is a unitless scalar that represents how quickly it takes to charge any capacitor for a given voltage. Voltage data was not collected during the experiment, so the voltage is assumed to be constant across trials. If our model of capacitor charge rate is correct, we expect <code>time/RC</code> to be constant across trials. The actual data was skewed right:</p>
            <p><img src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdonVC_CHgEAoezSnGLXLRFZMhR0_IfTl8anSSMXwEDUR4iNzQbhVJGY8PyUq2e946cMuQbj5TSex_/pubchart?oid=587065174&amp;format=image" alt="image" /></p>
            <p>By comparing the <code>time/RC</code> and different properties of each circuit, reasoning for the outliers may be deduced. The visualization of the histogram is reflected in each of the following charts by the density of points in a column.</p>
            <p>First, the <code>time/RC</code> values were compared with the resistance of the circuit:</p>
            <p><img src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdonVC_CHgEAoezSnGLXLRFZMhR0_IfTl8anSSMXwEDUR4iNzQbhVJGY8PyUq2e946cMuQbj5TSex_/pubchart?oid=1655543849&amp;format=image" alt="image" /></p>
            <p>Although some outliers came from circuits with high resistance, the most skewed ones came from those with least resistance. The same can be said of capacitance:</p>
            <p><img src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdonVC_CHgEAoezSnGLXLRFZMhR0_IfTl8anSSMXwEDUR4iNzQbhVJGY8PyUq2e946cMuQbj5TSex_/pubchart?oid=1866933099&amp;format=image" alt="image" /></p>
            <p>Finally, the comparison with time taken to charge the capacitor shows the strongest correlation, which is to be expected because according to the model, this value is the product of the previous two trends.</p>
            <p><img src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTdonVC_CHgEAoezSnGLXLRFZMhR0_IfTl8anSSMXwEDUR4iNzQbhVJGY8PyUq2e946cMuQbj5TSex_/pubchart?oid=716778401&amp;format=image" alt="image" /></p>
            <h2 id="analysis-2">Analysis</h2>
            <p>On explanation for the data skew is reaction time: for lower values of <span class="math inline">\(\tau\)</span>, the capacitor plateaus faster near 2V and thus the time keeper may not react as quickly. Components with smaller ratings also need tighter tolerances to achieve the same relative tolerances, so smaller capacitors may have relatively higher manufactured variability. The source analysis for these conclusions can be found <a href="https://docs.google.com/spreadsheets/d/1Xf3b3GKpNSIkuoEZTTcMQ2gjTIVnO4eHE5aJD3GEjqg/edit?usp=sharing"><strong>here</strong></a>.</p>
            <hr />
        </div>

        <script>
            $(document).ready(function() {
                // Generate clickable links
                let content = $("#center-viewport").html().replace(/<span>\[<\/span><span>\[<\/span>\w*?<span>]<\/span><span>]/gi, function(x) {
                    <!--let docPointer = x.match(/(\w)*/);-->
                        <!--let docPointer = x.match(/KB\w*/);-->
                    docPointer = [ x.replace(/\<\/?[a-z]+\>/g, '').slice(2, -2) ]

                    if (docPointer) {
                        let url = `https://taproot.shabang.cf/relay?request=${docPointer[0]}`;
                        return `<a href="${url}"><span>[[</span><span>${docPointer[0]}</span><span>]]</span></a>`;
                    } else {
                        console.log(`Cannot parse , returning...`);
                        return x;
                    }
                })
                $("#center-viewport").html(content);
                $("img").each(function() {  
                    let src = this.src.replace(/.*?\/Users\/houliu\/Documents\/School%20Work\/2020-2021\/KnowledgeBase\//gi, "https://taproot.shabang.cf/");
                    console.log(src);
                    $(this).attr("src", src);
                });
            });
        </script>
    </body>
</html>
